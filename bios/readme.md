# BIOS
B(asic)I(nput)O(utput)S(ystem), 是计算机通电后执行的第一段程序,
进行硬件带电自检, 读取并加载MBR到内存的0x7c00地址处.

## BIOS到底在哪里?
通电后, 负责CPU指定存址的cs:ip寄存器被初始化为

    0xf000:fff0

而这段地址对应的是一个jmp跳转指令

    jmpf 0xf000:e05b

所以bios程序的实际地址是0xfe05b(段基址左移4位+段内偏移地址). <br/>
这段程序是放在ROM中的(因为bios很少改变). <br/>

## 计算机的启动过程

1. BIOS
    - 带电自检
    - 校验0盘0道1扇区(CHS表示法)的内容, 如果该扇区末尾的两个字节分别是0x55,0xaa, 就加载此扇区的程序到0x7c00处(这段程序就是MBR): jmp 0:0x7c00
2. MBR
3. 加载操作系统内核

## 魔数
所谓魔数, 就是用一个数字, 标识重要的数据.<br/>
魔数难以理解的地方在于他只是单纯的数字. <br/>
魔数是最简约的约定. <br/>

### 0x55, 0xaa
0x55, 0xaa是魔数, bios就通过这个魔数校验该扇区是否可引导.

为什么是0盘0道1扇区

    ~ 答曰: 方便...
    ~ 减少BIOS搜索存储单位寻找MBR的时间

### 0x7c00
0x7c00是魔数, 也就是约定, 规定mbr被bios加载到内存地址0x7c00处. <br/>

为什么是0x7c00:

    ~ 参考《操作系统真相还原》的解释
    ~ 0x7c00最早出现在IBM公司出产的个人电脑PC5150的ROM
      jBIOS的INT19H中断处理程序中.(注意: 是写死在bios程序中的)
    ~ 通电开机后, BIOS处理程序自检(带电自检), 随后调用BIOS中断0x19h: call int 19h,
      在这个中断处理函数中, BIOS要检测这台计算机有多少硬盘或软盘💾 ,
      如果检测到了任何可用的磁盘, BIOS就把它的第一个扇区加载到0x7c00处.
    ~ 所以0x7c00来自IBM pc5150 的bios 0x19h中断程序中.
    
## 其他
+ [neox2](https://neo1218.github.io/neox2/)
+ 《操作系统真相还原》第2章

![railgun](https://images5.alphacoders.com/450/thumb-350-450157.jpg)
